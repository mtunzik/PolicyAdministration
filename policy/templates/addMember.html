 {% extends 'base.html' %}

 {% block content %}
    <!-- Begin Page Content -->

 <!-- Page Heading -->
 <div class="col-xl-8">
     <div class="card shadow mb-4">
         <div class="card-header py-3">
             <h6 class="m-0 font-weight-bold text-primary">Add Member</h6>
         </div>
         <div class="card-body">
             <form action="" method="POST" >
                 {% csrf_token %}

                    {% for field in form %}
                 <div class="form-group">
                     <label class="small mb-1" for="{{ field.id_for_label }}">{{ field.label}}</label>
                     {{ field }}
                     {% for error in field.errors %}
                          <div class="alert alert-danger">
                               <strong>{{ error|escape }}</strong>
                          </div>
                    {% endfor %}
                 </div>
                 {% endfor %}
                 <button class="btn btn-primary" type="submit">Save Member</button>
                     <div>

                     </div>
             </form>
         </div>
     </div>
 </div>

  <script>
  $( document ).ready(function() {

                if($("#id_MemberType").val() == 'Adult Dependent'){
                    $('#id_Cover').append(new Option('---------', ''));
                    $('#id_Cover').append(new Option('Option 1: R 5,000', 'Option 1: R 5,000'));
                    $('#id_Cover').append(new Option('Option 2: R 10,000', 'Option 2: R 10,000'));
                    $('#id_Cover').append(new Option('Price Per R 1,000', 'Price Per R 1,000'));
                    $('#id_Cover').val('{{ form.Cover.value }}');
                }else{
                    $('#id_Cover').append(new Option('---------', ''));
                    $("#id_Cover").val('');
                }
    });
    $("#id_MemberType").change(function(){
            if($(this).val() == 'Adult Dependent'){
                $('#id_Cover').empty();
                $('#id_Cover').append(new Option('---------', ''));
                $('#id_Cover').append(new Option('Option 1: R 5,000', 'Option 1: R 5,000'));
                $('#id_Cover').append(new Option('Option 2: R 10,000', 'Option 2: R 10,000'));
                $('#id_Cover').append(new Option('Price Per R 1,000', 'Price Per R 1,000'));
            }
            else{
                $('#id_Cover').append(new Option('---------', ''));
                $("#id_Cover").val('');
                $("#id_CoverAmount").val('');
                $("#id_Cover").attr('readonly', true);
                $("#id_CoverAmount").attr('readonly', true);
            }
        });

    $("#id_Cover").change(function(){
            if($(this).val() == 'Price Per R 1,000'){
                $("#id_CoverAmount").val('1000');
                $("#id_CoverAmount").attr('readonly', false);
            }
            else{
                $("#id_CoverAmount").attr('readonly', true);
                if($(this).val() == 'Option 1: R 5,000'){
                    $("#id_CoverAmount").val('5000');
                }
                if($(this).val() == 'Option 2: R 10,000'){
                    $("#id_CoverAmount").val('10000');
                }

            }
        });

 </script>
 <!-- /.container-fluid -->
 {% endblock %}